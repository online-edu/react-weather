(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{177:function(e,t,a){e.exports=a(383)},182:function(e,t,a){},183:function(e,t,a){},383:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(47),o=a.n(c),i=(a(182),a(48)),s=a(49),m=a(55),l=a(50),u=a(56),d=function(){return r.a.createElement("div",{className:"input-group input-group-lg mb-3"},r.a.createElement("input",{type:"text",className:"form-control","aria-label":"Sizing example input",placeholder:"Type a city name","aria-describedby":"inputGroup-sizing-lg"}))},p=a(31),f=(a(183),function(e){var t=e.item,a=e.forecastClick;return r.a.createElement("div",{className:"col text-center rounded forecast__day"},r.a.createElement("button",{type:"button",className:"btn btn-link text-decoration-none",onClick:a,onKeyPress:a},r.a.createElement("div",null,r.a.createElement("span",{className:"text-muted"},t.day)),r.a.createElement("img",{src:t.icon,alt:t.alt}),r.a.createElement("p",{className:"text-muted text-center"},r.a.createElement("span",{className:"mr-2"},t.maxTemp,"\xb0C"),r.a.createElement("span",null,t.minTemp,"\xb0C"))))}),h=function(e){var t=e.data,a=e.forecastClick;return r.a.createElement("div",{className:"row"},t&&t.map(function(e,t){return r.a.createElement(f,{forecastClick:function(){return a(e)},item:e,key:t})}))},v=a(32),y={chartContainer:{width:"100%",height:"100px"}},g=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.data;return r.a.createElement("div",{className:"mb-3",style:y.chartContainer},r.a.createElement(v.c,null,r.a.createElement(v.b,{data:e,margin:{top:10,right:30,left:10,bottom:0}},r.a.createElement(v.e,{axisLine:!1,tickLine:!1,tickMargin:10,dataKey:"hours"}),r.a.createElement(v.d,null),r.a.createElement(v.a,{type:"monotone",dataKey:"temp",stroke:"#ffcb02",fill:"#fff6d3",dot:!0}))))}}]),t}(n.PureComponent),b=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",null,r.a.createElement("img",{src:t.weather.icon,alt:t.weather.name}),Math.round(t.main.temp),"\xb0C ",t.weather.main,",\xa0",t.city.name," \u2013 ",t.city.country,",\xa0",t.day))),r.a.createElement(g,{data:t.chart}))},E=a(54),w=a(151),O=a(58),j="http://openweathermap.org/img/w",N=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],x=a(150),k=a.n(x),S=function(e,t){return k.a.get(e,t).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})},C="units=metric&APPID=".concat("8f10d0c12d0872124c79bd426d5d1003"),_=function(e){return new Date(e).getDate()},D=function(e){return new Date(e).getDay()},T=function(e,t,a,n,r){var c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return{day:N[D(e)],weather:Object(O.a)({},t,{icon:c?t.icon:"".concat(j,"/").concat(t.icon,".png")}),main:a,city:n,chart:r}},I=function(e){return e.map(function(e){var t=e.dt_txt,a=e.main.temp,n=new Date(t).getHours(),r=n>=12?" pm":" am";return{hours:n=((n%=12)||12)+r,temp:a}})},J=function(e){var t=function(){var e=sessionStorage.getItem("data");return e&&JSON.parse(e)||[]}(),a=function(){var e=sessionStorage.getItem("city");return e&&JSON.parse(e)||{}}();console.log(e);var n=e.date,r=e.day,c=e.maxTemp,o=e.alt,i="".concat(n,"_").concat(r);return T((new Date).setDate(n),Object(O.a)({},e,{main:o}),{temp:c},a,I(t[i]),!0)},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"London";return S("".concat("https://api.openweathermap.org/data/2.5","/forecast?q=").concat(e,"&").concat(C)).then(function(e){var t=e.city,a=e.list;localStorage.setItem("weather",JSON.stringify(a));var n=I(a.slice(0,8)),r=[],c={};a.reduce(function(e,t){var a=t.dt_txt,n=t.main,o=Object(p.a)(t.weather,1)[0],i=o.icon,s=o.main,m=_(a),l=_(e.dt_txt),u=D(a),d=N[u].substring(0,3),f="".concat(m,"_").concat(d),h=c[f]||[];return c=Object(O.a)({},c,Object(E.a)({},f,[].concat(Object(w.a)(h),[t]))),m!==l&&r.push(function(e,t,a,n,r,c){var o=c.temp_min,i=c.temp_max;return{date:e,id:t,minTemp:Math.round(o),maxTemp:Math.round(i),icon:"".concat(j,"/").concat(a,".png"),alt:n,day:r}}(m,u,i,s,d,n)),t},[]),sessionStorage.setItem("data",JSON.stringify(c)),sessionStorage.setItem("city",JSON.stringify(t));var o=Object(p.a)(a,1)[0],i=o.dt_txt,s=o.main,m=Object(p.a)(o.weather,1)[0];return Promise.resolve({forecast:r,current:T(i,m,s,t,n)})})},M=function(e){var t=e.forecast,a=e.current,c=Object(n.useState)(a),o=Object(p.a)(c,2),i=o[0],s=o[1];return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(b,{data:i}),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement(h,{data:t,forecastClick:function(e){s(J(e))}})))},K=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(l.a)(t).call(this))).state={city:"",data:{},loader:!0},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;P().then(function(t){e.setState({loader:!1,data:t})})}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.loader;return console.log(t),r.a.createElement("div",{className:"container pt-5"},r.a.createElement(d,null),!a&&r.a.createElement(M,{current:t.current,chart:t.chart,forecast:t.forecast}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[177,1,2]]]);
//# sourceMappingURL=main.5deb20b7.chunk.js.map